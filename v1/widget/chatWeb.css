/* 
    ! ================================================================================================================================================
    !                                                             WIDGET CHAT WEB
    ! ================================================================================================================================================    
    @author Ramón Dario Rozo Torres
    @lastModified Ramón Dario Rozo Torres
    @version 1.0.0
    v1/widget/chatWeb.css
*/

html, body {
    margin: 0;
    padding: 0;
    width: 100vw;
    overflow-x: hidden;
}

/* ! FUENTES */
@import url(https://fonts.googleapis.com/css2?family=Poppins&display=swap);

/* ! ESTILO PARA EL CONTENEDOR DEL CHAT */
#contenedorWidget {
  position: relative;
  z-index: 1000 !important;
}

#contenedorWidget .cont-chat {
  background-color: #FFFFFF;
  border-radius: 0.5rem;
  width: 90vw;
  max-width: 27rem;
  display: none;
  flex-direction: column;
  height: 100dvh !important;
  max-height: 100dvh !important;
  min-height: 0;
  box-shadow: 0 0 0.5rem 0 #ccc;
  position: fixed;
  bottom: var(--chat-widget-bottom) !important;
  right: var(--chat-widget-right) !important;
  overflow: hidden;
  animation-name: none;
  animation-duration: .5s;
  animation-fill-mode: forwards;
  z-index: 1000 !important;
  transition: all 0.3s ease;
}

/* ! ESTILO PARA LA BARRA DEL CHAT */
#contenedorWidget .bar-chat {
  height: 4rem;
  max-height: 4rem;
  background-color: #ffffff;
  display: flex;
  box-sizing: border-box;
  font-family: 'Arial', Redounded LT Pro !important;
  position: relative;
  z-index: 1000 !important;
  padding: 0 0.2rem;
}

/* ! ESTILO PARA EL ÍCONO DE LA CAJA 1 DE LA BARRA DEL CHAT */
#contenedorWidget .bar-img {
  width: 4.2rem;
  height: 2.2rem;
  /* border-radius: 50%; */
  padding: 0.3rem;
}

/* ! ESTILO PARA EL BOTÓN DE TOGGLE DEL CHAT */
#contenedorWidget .btn-chat-pau {
  display: flex;
  border-radius: 2rem;
  transition: background .2s;
  position: fixed;
  bottom: var(--chat-btn-bottom) !important;
  right: var(--chat-btn-right) !important;
  z-index: 999 !important;
}

/* ! ESTILO PARA EL TEXTO DEL BOTÓN DE TOGGLE DEL CHAT */
#contenedorWidget .btn-chat-pau span {
  padding: 0.5rem;
  color: #41beee;
  font-family: 'Arial', Redounded LT Pro !important;
  font-weight: 700;
  font-size: 1rem;
}

/* ! ESTILO PARA EL ÍCONO DEL BOTÓN DE TOGGLE DEL CHAT */
#contenedorWidget .img-btn {
  height: 9rem;
  margin-right: -1rem;
}

/* Media queries para diferentes tamaños de pantalla */
@media screen and (max-width: 500px) {
  #contenedorWidget .cont-chat {
    background-color: #FFFFFF;
    border-radius: 0.5rem;
    width: 90vw;
    max-width: 27rem;
    height: 85vh !important;
    max-height: 50rem !important;
    bottom: var(--chat-widget-bottom) !important;
    right: var(--chat-widget-right) !important;
    left: auto !important;
  }

  #contenedorWidget .bar-chat {
    height: 3.2rem;
    max-height: 3.2rem;
    padding: 0 0.1rem;
  }

  #contenedorWidget .bar-img {
    width: 1.7rem;
    height: 1.7rem;
  }

  #contenedorWidget .btn-chat-pau {
    bottom: 3.3rem !important; /* Sugerencia del cliente */
    right: 1rem !important; /* Sugerencia del cliente */
  }

  #contenedorWidget .img-btn {
    height: 7rem;
  }

  .tituloChatWeb {
    padding: 0 0.1rem;
  }

  #nombreChatWeb {
    font-size: clamp(0.65rem, 4vw, 0.9rem);
    max-width: 55%;
  }

  #versionChatWeb {
    font-size: clamp(0.5rem, 2vw, 0.7rem);
    margin-left: 0.2rem;
    max-width: 25%;
  }

  #contenedorWidget .bar-box3 {
    min-width: 2.5rem;
  }

  #contenedorWidget .bar-box3 i {
    font-size: clamp(1rem, 5vw, 1.3rem);
    min-width: 1.2rem;
  }
}

/* Para pantallas muy pequeñas (menos de 320px) */
@media screen and (max-width: 320px) {
  #contenedorWidget .cont-chat {
    background-color: #FFFFFF;
    border-radius: 0.5rem;
    width: 90vw;
    max-width: 27rem;
    height: 85vh !important;
    max-height: 50rem !important;
    right: var(--chat-widget-right) !important;
    bottom: var(--chat-widget-bottom) !important;
  }

  #contenedorWidget .bar-chat {
    height: 3rem;
    max-height: 3rem;
  }

  #contenedorWidget .bar-img {
    width: 2rem;
    height: 2rem;
  }

  #contenedorWidget .btn-chat-pau span {
    font-size: 0.9rem;
  }

  #contenedorWidget .img-btn {
    height: 6rem;
  }

  .tituloChatWeb {
    padding: 0 0.2rem;
  }

  #nombreChatWeb {
    font-size: 0.6rem;
    max-width: 40%;
  }

  #versionChatWeb {
    font-size: 0.5rem;
    max-width: 18%;
    margin-left: 0.1rem;
  }

  #contenedorWidget .bar-box3 {
    min-width: 2rem;
  }
}

/* Para tablets */
@media screen and (min-width: 501px) and (max-width: 768px) {
  #contenedorWidget .cont-chat {
    background-color: #FFFFFF;
    border-radius: 0.5rem;
    width: 90vw;
    max-width: 27rem;
    height: 85vh !important;
    max-height: 50rem !important;
    right: var(--chat-widget-right) !important;
    bottom: var(--chat-widget-bottom) !important;
  }

  .tituloChatWeb {
    padding: 0 0.4rem;
  }

  #nombreChatWeb {
    font-size: 0.95rem;
    max-width: 70%;
  }

  #versionChatWeb {
    font-size: 0.68rem;
  }
}

/* Para pantallas grandes */
@media screen and (min-width: 769px) {
  #contenedorWidget .cont-chat {
    background-color: #FFFFFF;
    border-radius: 0.5rem;
    width: 90vw;
    max-width: 27rem;
    height: 85vh !important;
    max-height: 50rem !important;
    right: var(--chat-widget-right) !important;
    bottom: var(--chat-widget-bottom) !important;
  }

  .tituloChatWeb {
    padding: 0 0.6rem;
  }

  #nombreChatWeb {
    font-size: 1.1rem;
    max-width: 75%;
  }

  #versionChatWeb {
    font-size: 0.75rem;
  }
}

/* ! ANIMACIÓN PARA CERRAR EL CHAT */
@keyframes ani-close-chat {
  from {
    transform: scale(1);
    bottom: 10px;
    right: 20px
  }

  to {
    transform: scale(0);
    bottom: -300px;
    right: -150px;
    display: none;
    opacity: 0
  }
}

/* ! ANIMACIÓN PARA ABRIR EL CHAT */
@keyframes ani-open-chat {
  from {
    transform: scale(0);
    bottom: -300px;
    right: -150px;
    display: none;
    opacity: 0
  }

  to {
    transform: scale(1);
    bottom: 10px;
    right: 5px;
    display: block;
    opacity: 1
  }
}

/* ! ESTILO PARA LAS CAJAS DE LA BARRA DEL CHAT */
#contenedorWidget .bar-box {
  display: flex;
  align-items: center;
  min-width: 0;
}

/* ! ESTILO PARA LA CAJA 1 DE LA BARRA DEL CHAT */
#contenedorWidget .bar-box1 {
  flex: 0 0 auto;
  min-width: 2.2rem;
  display: flex;
  justify-content: center;
  align-items: center;
  margin: 0;
  padding: 0;
}

/* ! ESTILO PARA LA CAJA 2 DE LA BARRA DEL CHAT */
#contenedorWidget .bar-box2 {
  display: flex;
  flex-direction: column;
  justify-content: center;
  min-width: 0;
  flex: 1 1 0;
  overflow: hidden;
  margin: 0;
  padding: 0;
}

/* ! ESTILO PARA LA CAJA 3 DE LA BARRA DEL CHAT */
#contenedorWidget .bar-box3 {
  flex: 0 0 auto;
  min-width: 3.5rem;
  display: flex;
  justify-content: flex-end;
  align-items: center;
  color: #000000;
  margin: 0;
  padding: 0;
}

/* ! ESTILO PARA EL ÍCONO DE LA CAJA 3 DE LA BARRA DEL CHAT */
#contenedorWidget .bar-box3 i {
  margin: 0 0.1rem;
  cursor: pointer;
  font-size: clamp(1.1rem, 4vw, 1.7rem);
  min-width: 1.5rem;
}

/* ! ESTILO PARA EL CONTENEDOR DEL CHAT */
#contenedorWidget .main-chat {
  flex: 1 1 auto;
  min-height: 0;
  height: calc(100% - 4rem);
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  position: relative;
  z-index: 1000 !important;
}

/* ! ESTILO PARA EL IFRAME DEL CHAT */
#contenedorWidget .main-chat iframe {
  width: 100%;
  height: 99%;
  border: none;
  display: block;
  position: relative;
  z-index: 1000 !important;
}

/* ! ESTILO PARA EL TÍTULO */
.tituloChatWeb {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  min-width: 0;
  margin: 0;
  padding: 0 0.1rem;
  gap: 0.2rem;
}

#nombreChatWeb {
  color: #000000;
  font-weight: bold;
  font-size: clamp(0.7rem, 3vw, 1.1rem);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  flex: 1 1 0;
  min-width: 0;
  margin: 0;
}

#versionChatWeb {
  color: #000000;
  font-size: clamp(0.55rem, 2vw, 0.6rem);
  font-weight: normal;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  flex: 0 1 auto;
  min-width: 0;
  margin: 0 0 0 0.3rem;
  padding-right: 0.3rem;
}

/* ! ESTILO PARA EL ESTADO DEL CHAT (INCLUYENDO EL ÍCONO) */
#estadoChatWeb {
  color: #000000;
  font-size: .8rem;
  display: flex;
  align-items: center;
  margin: 0;
  padding: 0 0.1rem;
  align-self: flex-start;
}

/* ! ESTILO PARA EL ÍCONO */
#estadoChatWeb i {
  font-size: .7rem;       /* Tamaño de la fuente del ícono */
  color: #2ABABF ;       /* Color verde (#FF6523) para el ícono */
  margin-right: 5px;      /* Espacio entre el ícono y el texto */
}

#chatOverlay {
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0, 0, 0, .42); /* Puedes ajustar la opacidad/color */
  z-index: 999; /* Debe estar debajo del chat pero encima del resto */
  display: none;
}
:root {
  --chat-widget-right: 1.5rem;
  --chat-widget-bottom: 1.5rem;
  --chat-btn-right: 2.5rem;
  --chat-btn-bottom: 2.5rem;
}

#contenedorWidget .cont-chat {
  right: var(--chat-widget-right) !important;
  bottom: var(--chat-widget-bottom) !important;
}

/* Para pantallas grandes */
@media screen and (min-width: 769px) {
  :root {
    --chat-widget-right: 1.5rem;
    --chat-widget-bottom: 1.5rem;
    --chat-btn-right: 2.5rem;
    --chat-btn-bottom: 2.5rem;
  }
}

/* Para pantallas medianas */
@media screen and (max-width: 768px) and (min-width: 481px) {
  :root {
    --chat-widget-right: 1rem;
    --chat-widget-bottom: 1rem;
    --chat-btn-right: 2.5rem;
    --chat-btn-bottom: 2.5rem;
  }
}

/* Para pantallas pequeñas */
@media screen and (max-width: 480px) {
  :root {
    --chat-widget-right: 0.5rem;
    --chat-widget-bottom: 0.5rem;
    --chat-btn-right: 2.5rem;
    --chat-btn-bottom: 2.5rem;
  }
}

/* ! ESTILOS PARA ERROR 429 */
/* Hacer la imagen transparente y con color cuando hay error */
#contenedorWidget .btn-chat-pau.error-429 {
  pointer-events: none !important;  /* Evita que el botón se pueda hacer clic */
  cursor: not-allowed !important;
  opacity: 0.6 !important;
}

#contenedorWidget .btn-chat-pau.error-429 .img-btn {
  opacity: 0.5 !important;
  filter: grayscale(100%) !important;
  background-color: #ddd !important;
  border-radius: 50% !important;
  pointer-events: none !important;  /* Evita que el botón se pueda hacer clic */
}

/* Countdown centrado */
#contenedorWidget .btn-chat-pau .countdown-text {
  pointer-events: none !important;  /* Evita que el botón se pueda hacer clic */
  display: none;
  position: absolute !important;
  top: 50% !important;
  left: 50% !important;
  transform: translate(-50%, -50%) !important;
  color: #ff0000 !important;
  font-size: 2.5rem !important;
  font-weight: bold !important;
  text-align: center !important;
  z-index: 20 !important;
  text-shadow: 0 2px 4px rgba(255, 255, 255, 0.8) !important;
}

/* Mostrar countdown cuando hay error */
#contenedorWidget .btn-chat-pau.error-429 .countdown-text {
  display: block !important;
}

/* ! ESTILOS PARA LA CAPA DE PRELOAD */
#preload-layer {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(128, 128, 128, 0.85);
  z-index: 9999;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  backdrop-filter: blur(8px);
}

#preload-layer .preload-content {
  text-align: center;
  color: #666666;
}

#preload-layer .preload-spinner {
  width: 50px;
  height: 50px;
  border: 4px solid #e0e0e0;
  border-top: 4px solid #333333;
  border-radius: 50%;
  animation: preload-spin 1.2s linear infinite;
  margin: 0 auto 20px;
}

#preload-layer .preload-text {
  font-size: 16px;
  color: #000000;
  font-weight: bold;
  opacity: 1;
}

/* Animación del spinner del preload */
@keyframes preload-spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}