<!DOCTYPE html>
<html lang='en'>

<head>
  <meta charset='UTF-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0'>
  <title>IDARTES</title>

  <!-- Favicon -->
  <link rel="apple-touch-icon" href="APP_URL/images/imagen-corporativa/favicon.png">
  <link rel="shortcut icon" type="image/x-icon" href="APP_URL/images/imagen-corporativa/favicon.png">

  <!--Import Google Icon Font-->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <style>
    html,
    body {
      height: 100%;
      /* Asegura que html y body ocupen el 100% de la altura */
      margin: 0;
      /* Elimina m√°rgenes por defecto */
    }

    body {
      background-image: url('APP_URL/images/imagen-corporativa/fondo.png');
      /* Llama a la imagen de fondo */
      background-repeat: no-repeat;
      /* No repetir la imagen */
      background-size: cover;
      /* Ajustar la imagen para cubrir todo el fondo */
      background-position: center;
      /* Centrar la imagen */
      background-attachment: fixed;
      /* Hacer que la imagen de fondo quede fija al hacer scroll */
    }
  </style>
</head>

<body>

  <div class="titlePagina" style="background: #0b06ff; height: 8%; position: fixed; top: 0; left: 0; right: 0; z-index: 1000;">
    <h1 style="text-align: center; margin: 0rem; color: rgb(255, 255, 255);"><strong>Widget Chat Web ETB - IDARTES / Ejemplo de instalaci√≥n t√©cnica</strong></h1>
  </div>

  
  <p>Lorem ipsum dolor sit amet consectetur, adipiscing elit phasellus egestas integer proin, eleifend quisque montes dignissim. Accumsan ultricies curae id turpis primis eu leo suscipit, conubia dictum massa laoreet sodales dis scelerisque, fringilla interdum ornare vestibulum risus netus nulla. Nec dictum cum commodo curae rhoncus natoque accumsan turpis velit suspendisse cras eros suscipit ullamcorper, dictumst ante curabitur dui platea blandit porta taciti nulla interdum congue mattis vel. Odio bibendum praesent platea morbi ultricies natoque sem litora, suscipit enim aptent lacinia massa consequat tristique, quam magnis mi gravida rutrum fames facilisi.

    Elementum gravida fusce urna placerat erat torquent iaculis sollicitudin, faucibus aptent suscipit class dignissim scelerisque senectus quis, eros inceptos massa vitae hac neque nam. Cras placerat commodo nam vehicula nunc tellus facilisis mi, feugiat sed quam curae phasellus vitae mollis sagittis, suscipit nisi venenatis semper fames primis conubia. Vel nisi ac magnis eros sodales, torquent volutpat malesuada. Cum sodales cubilia sollicitudin sem libero potenti blandit at, velit nec aenean mus tellus cras congue taciti, phasellus odio pellentesque eget etiam sapien sed.
    
    Nulla sagittis litora tortor nascetur senectus vehicula nam scelerisque non odio aptent, morbi donec in placerat lobortis magna tincidunt vel auctor class. Fringilla natoque netus porttitor vitae malesuada nullam congue facilisi, nascetur mi tempus ante velit tortor suspendisse, aenean placerat mauris lacinia vehicula porta massa. Facilisi ridiculus tellus elementum duis inceptos faucibus aenean condimentum lectus, egestas ac parturient at mus quis sagittis penatibus, interdum leo habitasse fermentum urna eget ultricies dui.
    
    Augue quisque sollicitudin euismod tellus aenean molestie, interdum cum et commodo donec varius, est class nullam nostra gravida. Primis auctor nascetur velit metus lacus varius iaculis nibh torquent, nostra eu accumsan non mattis porta consequat ut lacinia, fermentum nunc ultrices vitae magna elementum nulla dignissim. Tempor porttitor penatibus metus faucibus justo natoque odio, dignissim himenaeos auctor montes at quam, elementum duis feugiat est sociis erat.
    
    Porta hendrerit netus nibh odio laoreet rhoncus ligula vitae natoque accumsan, integer ad facilisis orci lectus purus nam varius massa, id quam nunc urna augue a feugiat dui nostra. Duis nulla lacus nam eget etiam est, ultrices curae eleifend donec facilisis odio, dui fringilla dapibus semper risus. Proin lectus eget sem integer cum mi consequat suspendisse, morbi vivamus non ut nunc interdum.
    
    Nulla sollicitudin fames inceptos odio hac euismod metus blandit, dui sociosqu ac scelerisque diam pharetra fusce sodales in, quam urna nam aenean himenaeos turpis cubilia. Hendrerit nullam dui vehicula magna duis pellentesque porttitor dis eget, ac molestie cras justo tempus metus suscipit vitae nostra, malesuada congue dictum tempor leo eros bibendum varius. Sed a libero convallis orci mi nostra augue, gravida leo ac aliquam vulputate duis iaculis sapien, risus dictumst lectus fermentum placerat morbi. Condimentum fames feugiat semper suscipit porttitor varius ultrices, mus cum cras morbi per eleifend viverra sociosqu, montes proin habitasse lobortis quam dapibus.
    
    Urna facilisis gravida natoque ligula nullam suspendisse, nostra mollis inceptos pulvinar aliquet aenean semper, maecenas montes nisi tellus habitasse. Libero cursus natoque fusce vivamus proin duis lacinia cum ultrices, aliquet magnis cubilia placerat hac est integer. Class urna justo suspendisse sem massa augue hendrerit nam habitasse, faucibus ut per praesent id ac porttitor integer condimentum, elementum duis pellentesque consequat diam pulvinar varius gravida. Nibh penatibus morbi viverra habitant dignissim facilisis congue dictum fringilla, faucibus lacus taciti sodales eget a turpis lectus, nec non vel egestas eu sociis libero commodo.
    
    Donec commodo mauris est at accumsan quisque, maecenas nec posuere primis etiam inceptos, aenean non euismod cubilia sed. Hac dis lobortis etiam libero senectus risus porta fames sociis mollis, penatibus sagittis sodales nam consequat tortor eros imperdiet habitasse et, inceptos ornare malesuada eleifend iaculis facilisis cursus netus ac. Etiam pellentesque per torquent aliquet primis a pharetra mus habitant, vehicula eros faucibus justo vel sociosqu viverra sagittis ultricies, ac habitasse fringilla felis sed neque magnis nullam.</p>
  
  <p>Lorem ipsum dolor sit amet consectetur, adipiscing elit phasellus egestas integer proin, eleifend quisque montes dignissim. Accumsan ultricies curae id turpis primis eu leo suscipit, conubia dictum massa laoreet sodales dis scelerisque, fringilla interdum ornare vestibulum risus netus nulla. Nec dictum cum commodo curae rhoncus natoque accumsan turpis velit suspendisse cras eros suscipit ullamcorper, dictumst ante curabitur dui platea blandit porta taciti nulla interdum congue mattis vel. Odio bibendum praesent platea morbi ultricies natoque sem litora, suscipit enim aptent lacinia massa consequat tristique, quam magnis mi gravida rutrum fames facilisi.

    Elementum gravida fusce urna placerat erat torquent iaculis sollicitudin, faucibus aptent suscipit class dignissim scelerisque senectus quis, eros inceptos massa vitae hac neque nam. Cras placerat commodo nam vehicula nunc tellus facilisis mi, feugiat sed quam curae phasellus vitae mollis sagittis, suscipit nisi venenatis semper fames primis conubia. Vel nisi ac magnis eros sodales, torquent volutpat malesuada. Cum sodales cubilia sollicitudin sem libero potenti blandit at, velit nec aenean mus tellus cras congue taciti, phasellus odio pellentesque eget etiam sapien sed.
    
    Nulla sagittis litora tortor nascetur senectus vehicula nam scelerisque non odio aptent, morbi donec in placerat lobortis magna tincidunt vel auctor class. Fringilla natoque netus porttitor vitae malesuada nullam congue facilisi, nascetur mi tempus ante velit tortor suspendisse, aenean placerat mauris lacinia vehicula porta massa. Facilisi ridiculus tellus elementum duis inceptos faucibus aenean condimentum lectus, egestas ac parturient at mus quis sagittis penatibus, interdum leo habitasse fermentum urna eget ultricies dui.
    
    Augue quisque sollicitudin euismod tellus aenean molestie, interdum cum et commodo donec varius, est class nullam nostra gravida. Primis auctor nascetur velit metus lacus varius iaculis nibh torquent, nostra eu accumsan non mattis porta consequat ut lacinia, fermentum nunc ultrices vitae magna elementum nulla dignissim. Tempor porttitor penatibus metus faucibus justo natoque odio, dignissim himenaeos auctor montes at quam, elementum duis feugiat est sociis erat.
    
    Porta hendrerit netus nibh odio laoreet rhoncus ligula vitae natoque accumsan, integer ad facilisis orci lectus purus nam varius massa, id quam nunc urna augue a feugiat dui nostra. Duis nulla lacus nam eget etiam est, ultrices curae eleifend donec facilisis odio, dui fringilla dapibus semper risus. Proin lectus eget sem integer cum mi consequat suspendisse, morbi vivamus non ut nunc interdum.
    
    Nulla sollicitudin fames inceptos odio hac euismod metus blandit, dui sociosqu ac scelerisque diam pharetra fusce sodales in, quam urna nam aenean himenaeos turpis cubilia. Hendrerit nullam dui vehicula magna duis pellentesque porttitor dis eget, ac molestie cras justo tempus metus suscipit vitae nostra, malesuada congue dictum tempor leo eros bibendum varius. Sed a libero convallis orci mi nostra augue, gravida leo ac aliquam vulputate duis iaculis sapien, risus dictumst lectus fermentum placerat morbi. Condimentum fames feugiat semper suscipit porttitor varius ultrices, mus cum cras morbi per eleifend viverra sociosqu, montes proin habitasse lobortis quam dapibus.
    
    Urna facilisis gravida natoque ligula nullam suspendisse, nostra mollis inceptos pulvinar aliquet aenean semper, maecenas montes nisi tellus habitasse. Libero cursus natoque fusce vivamus proin duis lacinia cum ultrices, aliquet magnis cubilia placerat hac est integer. Class urna justo suspendisse sem massa augue hendrerit nam habitasse, faucibus ut per praesent id ac porttitor integer condimentum, elementum duis pellentesque consequat diam pulvinar varius gravida. Nibh penatibus morbi viverra habitant dignissim facilisis congue dictum fringilla, faucibus lacus taciti sodales eget a turpis lectus, nec non vel egestas eu sociis libero commodo.
    
    Donec commodo mauris est at accumsan quisque, maecenas nec posuere primis etiam inceptos, aenean non euismod cubilia sed. Hac dis lobortis etiam libero senectus risus porta fames sociis mollis, penatibus sagittis sodales nam consequat tortor eros imperdiet habitasse et, inceptos ornare malesuada eleifend iaculis facilisis cursus netus ac. Etiam pellentesque per torquent aliquet primis a pharetra mus habitant, vehicula eros faucibus justo vel sociosqu viverra sagittis ultricies, ac habitasse fringilla felis sed neque magnis nullam.</p>
  
  <p>Lorem ipsum dolor sit amet consectetur, adipiscing elit phasellus egestas integer proin, eleifend quisque montes dignissim. Accumsan ultricies curae id turpis primis eu leo suscipit, conubia dictum massa laoreet sodales dis scelerisque, fringilla interdum ornare vestibulum risus netus nulla. Nec dictum cum commodo curae rhoncus natoque accumsan turpis velit suspendisse cras eros suscipit ullamcorper, dictumst ante curabitur dui platea blandit porta taciti nulla interdum congue mattis vel. Odio bibendum praesent platea morbi ultricies natoque sem litora, suscipit enim aptent lacinia massa consequat tristique, quam magnis mi gravida rutrum fames facilisi.

    Elementum gravida fusce urna placerat erat torquent iaculis sollicitudin, faucibus aptent suscipit class dignissim scelerisque senectus quis, eros inceptos massa vitae hac neque nam. Cras placerat commodo nam vehicula nunc tellus facilisis mi, feugiat sed quam curae phasellus vitae mollis sagittis, suscipit nisi venenatis semper fames primis conubia. Vel nisi ac magnis eros sodales, torquent volutpat malesuada. Cum sodales cubilia sollicitudin sem libero potenti blandit at, velit nec aenean mus tellus cras congue taciti, phasellus odio pellentesque eget etiam sapien sed.
    
    Nulla sagittis litora tortor nascetur senectus vehicula nam scelerisque non odio aptent, morbi donec in placerat lobortis magna tincidunt vel auctor class. Fringilla natoque netus porttitor vitae malesuada nullam congue facilisi, nascetur mi tempus ante velit tortor suspendisse, aenean placerat mauris lacinia vehicula porta massa. Facilisi ridiculus tellus elementum duis inceptos faucibus aenean condimentum lectus, egestas ac parturient at mus quis sagittis penatibus, interdum leo habitasse fermentum urna eget ultricies dui.
    
    Augue quisque sollicitudin euismod tellus aenean molestie, interdum cum et commodo donec varius, est class nullam nostra gravida. Primis auctor nascetur velit metus lacus varius iaculis nibh torquent, nostra eu accumsan non mattis porta consequat ut lacinia, fermentum nunc ultrices vitae magna elementum nulla dignissim. Tempor porttitor penatibus metus faucibus justo natoque odio, dignissim himenaeos auctor montes at quam, elementum duis feugiat est sociis erat.
    
    Porta hendrerit netus nibh odio laoreet rhoncus ligula vitae natoque accumsan, integer ad facilisis orci lectus purus nam varius massa, id quam nunc urna augue a feugiat dui nostra. Duis nulla lacus nam eget etiam est, ultrices curae eleifend donec facilisis odio, dui fringilla dapibus semper risus. Proin lectus eget sem integer cum mi consequat suspendisse, morbi vivamus non ut nunc interdum.
    
    Nulla sollicitudin fames inceptos odio hac euismod metus blandit, dui sociosqu ac scelerisque diam pharetra fusce sodales in, quam urna nam aenean himenaeos turpis cubilia. Hendrerit nullam dui vehicula magna duis pellentesque porttitor dis eget, ac molestie cras justo tempus metus suscipit vitae nostra, malesuada congue dictum tempor leo eros bibendum varius. Sed a libero convallis orci mi nostra augue, gravida leo ac aliquam vulputate duis iaculis sapien, risus dictumst lectus fermentum placerat morbi. Condimentum fames feugiat semper suscipit porttitor varius ultrices, mus cum cras morbi per eleifend viverra sociosqu, montes proin habitasse lobortis quam dapibus.
    
    Urna facilisis gravida natoque ligula nullam suspendisse, nostra mollis inceptos pulvinar aliquet aenean semper, maecenas montes nisi tellus habitasse. Libero cursus natoque fusce vivamus proin duis lacinia cum ultrices, aliquet magnis cubilia placerat hac est integer. Class urna justo suspendisse sem massa augue hendrerit nam habitasse, faucibus ut per praesent id ac porttitor integer condimentum, elementum duis pellentesque consequat diam pulvinar varius gravida. Nibh penatibus morbi viverra habitant dignissim facilisis congue dictum fringilla, faucibus lacus taciti sodales eget a turpis lectus, nec non vel egestas eu sociis libero commodo.
    
    Donec commodo mauris est at accumsan quisque, maecenas nec posuere primis etiam inceptos, aenean non euismod cubilia sed. Hac dis lobortis etiam libero senectus risus porta fames sociis mollis, penatibus sagittis sodales nam consequat tortor eros imperdiet habitasse et, inceptos ornare malesuada eleifend iaculis facilisis cursus netus ac. Etiam pellentesque per torquent aliquet primis a pharetra mus habitant, vehicula eros faucibus justo vel sociosqu viverra sagittis ultricies, ac habitasse fringilla felis sed neque magnis nullam.</p>
  
  <p>Lorem ipsum dolor sit amet consectetur, adipiscing elit phasellus egestas integer proin, eleifend quisque montes dignissim. Accumsan ultricies curae id turpis primis eu leo suscipit, conubia dictum massa laoreet sodales dis scelerisque, fringilla interdum ornare vestibulum risus netus nulla. Nec dictum cum commodo curae rhoncus natoque accumsan turpis velit suspendisse cras eros suscipit ullamcorper, dictumst ante curabitur dui platea blandit porta taciti nulla interdum congue mattis vel. Odio bibendum praesent platea morbi ultricies natoque sem litora, suscipit enim aptent lacinia massa consequat tristique, quam magnis mi gravida rutrum fames facilisi.

    Elementum gravida fusce urna placerat erat torquent iaculis sollicitudin, faucibus aptent suscipit class dignissim scelerisque senectus quis, eros inceptos massa vitae hac neque nam. Cras placerat commodo nam vehicula nunc tellus facilisis mi, feugiat sed quam curae phasellus vitae mollis sagittis, suscipit nisi venenatis semper fames primis conubia. Vel nisi ac magnis eros sodales, torquent volutpat malesuada. Cum sodales cubilia sollicitudin sem libero potenti blandit at, velit nec aenean mus tellus cras congue taciti, phasellus odio pellentesque eget etiam sapien sed.
    
    Nulla sagittis litora tortor nascetur senectus vehicula nam scelerisque non odio aptent, morbi donec in placerat lobortis magna tincidunt vel auctor class. Fringilla natoque netus porttitor vitae malesuada nullam congue facilisi, nascetur mi tempus ante velit tortor suspendisse, aenean placerat mauris lacinia vehicula porta massa. Facilisi ridiculus tellus elementum duis inceptos faucibus aenean condimentum lectus, egestas ac parturient at mus quis sagittis penatibus, interdum leo habitasse fermentum urna eget ultricies dui.
    
    Augue quisque sollicitudin euismod tellus aenean molestie, interdum cum et commodo donec varius, est class nullam nostra gravida. Primis auctor nascetur velit metus lacus varius iaculis nibh torquent, nostra eu accumsan non mattis porta consequat ut lacinia, fermentum nunc ultrices vitae magna elementum nulla dignissim. Tempor porttitor penatibus metus faucibus justo natoque odio, dignissim himenaeos auctor montes at quam, elementum duis feugiat est sociis erat.
    
    Porta hendrerit netus nibh odio laoreet rhoncus ligula vitae natoque accumsan, integer ad facilisis orci lectus purus nam varius massa, id quam nunc urna augue a feugiat dui nostra. Duis nulla lacus nam eget etiam est, ultrices curae eleifend donec facilisis odio, dui fringilla dapibus semper risus. Proin lectus eget sem integer cum mi consequat suspendisse, morbi vivamus non ut nunc interdum.
    
    Nulla sollicitudin fames inceptos odio hac euismod metus blandit, dui sociosqu ac scelerisque diam pharetra fusce sodales in, quam urna nam aenean himenaeos turpis cubilia. Hendrerit nullam dui vehicula magna duis pellentesque porttitor dis eget, ac molestie cras justo tempus metus suscipit vitae nostra, malesuada congue dictum tempor leo eros bibendum varius. Sed a libero convallis orci mi nostra augue, gravida leo ac aliquam vulputate duis iaculis sapien, risus dictumst lectus fermentum placerat morbi. Condimentum fames feugiat semper suscipit porttitor varius ultrices, mus cum cras morbi per eleifend viverra sociosqu, montes proin habitasse lobortis quam dapibus.
    
    Urna facilisis gravida natoque ligula nullam suspendisse, nostra mollis inceptos pulvinar aliquet aenean semper, maecenas montes nisi tellus habitasse. Libero cursus natoque fusce vivamus proin duis lacinia cum ultrices, aliquet magnis cubilia placerat hac est integer. Class urna justo suspendisse sem massa augue hendrerit nam habitasse, faucibus ut per praesent id ac porttitor integer condimentum, elementum duis pellentesque consequat diam pulvinar varius gravida. Nibh penatibus morbi viverra habitant dignissim facilisis congue dictum fringilla, faucibus lacus taciti sodales eget a turpis lectus, nec non vel egestas eu sociis libero commodo.
    
    Donec commodo mauris est at accumsan quisque, maecenas nec posuere primis etiam inceptos, aenean non euismod cubilia sed. Hac dis lobortis etiam libero senectus risus porta fames sociis mollis, penatibus sagittis sodales nam consequat tortor eros imperdiet habitasse et, inceptos ornare malesuada eleifend iaculis facilisis cursus netus ac. Etiam pellentesque per torquent aliquet primis a pharetra mus habitant, vehicula eros faucibus justo vel sociosqu viverra sagittis ultricies, ac habitasse fringilla felis sed neque magnis nullam.</p>
  
  <p>Lorem ipsum dolor sit amet consectetur, adipiscing elit phasellus egestas integer proin, eleifend quisque montes dignissim. Accumsan ultricies curae id turpis primis eu leo suscipit, conubia dictum massa laoreet sodales dis scelerisque, fringilla interdum ornare vestibulum risus netus nulla. Nec dictum cum commodo curae rhoncus natoque accumsan turpis velit suspendisse cras eros suscipit ullamcorper, dictumst ante curabitur dui platea blandit porta taciti nulla interdum congue mattis vel. Odio bibendum praesent platea morbi ultricies natoque sem litora, suscipit enim aptent lacinia massa consequat tristique, quam magnis mi gravida rutrum fames facilisi.

    Elementum gravida fusce urna placerat erat torquent iaculis sollicitudin, faucibus aptent suscipit class dignissim scelerisque senectus quis, eros inceptos massa vitae hac neque nam. Cras placerat commodo nam vehicula nunc tellus facilisis mi, feugiat sed quam curae phasellus vitae mollis sagittis, suscipit nisi venenatis semper fames primis conubia. Vel nisi ac magnis eros sodales, torquent volutpat malesuada. Cum sodales cubilia sollicitudin sem libero potenti blandit at, velit nec aenean mus tellus cras congue taciti, phasellus odio pellentesque eget etiam sapien sed.
    
    Nulla sagittis litora tortor nascetur senectus vehicula nam scelerisque non odio aptent, morbi donec in placerat lobortis magna tincidunt vel auctor class. Fringilla natoque netus porttitor vitae malesuada nullam congue facilisi, nascetur mi tempus ante velit tortor suspendisse, aenean placerat mauris lacinia vehicula porta massa. Facilisi ridiculus tellus elementum duis inceptos faucibus aenean condimentum lectus, egestas ac parturient at mus quis sagittis penatibus, interdum leo habitasse fermentum urna eget ultricies dui.
    
    Augue quisque sollicitudin euismod tellus aenean molestie, interdum cum et commodo donec varius, est class nullam nostra gravida. Primis auctor nascetur velit metus lacus varius iaculis nibh torquent, nostra eu accumsan non mattis porta consequat ut lacinia, fermentum nunc ultrices vitae magna elementum nulla dignissim. Tempor porttitor penatibus metus faucibus justo natoque odio, dignissim himenaeos auctor montes at quam, elementum duis feugiat est sociis erat.
    
    Porta hendrerit netus nibh odio laoreet rhoncus ligula vitae natoque accumsan, integer ad facilisis orci lectus purus nam varius massa, id quam nunc urna augue a feugiat dui nostra. Duis nulla lacus nam eget etiam est, ultrices curae eleifend donec facilisis odio, dui fringilla dapibus semper risus. Proin lectus eget sem integer cum mi consequat suspendisse, morbi vivamus non ut nunc interdum.
    
    Nulla sollicitudin fames inceptos odio hac euismod metus blandit, dui sociosqu ac scelerisque diam pharetra fusce sodales in, quam urna nam aenean himenaeos turpis cubilia. Hendrerit nullam dui vehicula magna duis pellentesque porttitor dis eget, ac molestie cras justo tempus metus suscipit vitae nostra, malesuada congue dictum tempor leo eros bibendum varius. Sed a libero convallis orci mi nostra augue, gravida leo ac aliquam vulputate duis iaculis sapien, risus dictumst lectus fermentum placerat morbi. Condimentum fames feugiat semper suscipit porttitor varius ultrices, mus cum cras morbi per eleifend viverra sociosqu, montes proin habitasse lobortis quam dapibus.
    
    Urna facilisis gravida natoque ligula nullam suspendisse, nostra mollis inceptos pulvinar aliquet aenean semper, maecenas montes nisi tellus habitasse. Libero cursus natoque fusce vivamus proin duis lacinia cum ultrices, aliquet magnis cubilia placerat hac est integer. Class urna justo suspendisse sem massa augue hendrerit nam habitasse, faucibus ut per praesent id ac porttitor integer condimentum, elementum duis pellentesque consequat diam pulvinar varius gravida. Nibh penatibus morbi viverra habitant dignissim facilisis congue dictum fringilla, faucibus lacus taciti sodales eget a turpis lectus, nec non vel egestas eu sociis libero commodo.
    
    Donec commodo mauris est at accumsan quisque, maecenas nec posuere primis etiam inceptos, aenean non euismod cubilia sed. Hac dis lobortis etiam libero senectus risus porta fames sociis mollis, penatibus sagittis sodales nam consequat tortor eros imperdiet habitasse et, inceptos ornare malesuada eleifend iaculis facilisis cursus netus ac. Etiam pellentesque per torquent aliquet primis a pharetra mus habitant, vehicula eros faucibus justo vel sociosqu viverra sagittis ultricies, ac habitasse fringilla felis sed neque magnis nullam.</p>
  
  <p>Lorem ipsum dolor sit amet consectetur, adipiscing elit phasellus egestas integer proin, eleifend quisque montes dignissim. Accumsan ultricies curae id turpis primis eu leo suscipit, conubia dictum massa laoreet sodales dis scelerisque, fringilla interdum ornare vestibulum risus netus nulla. Nec dictum cum commodo curae rhoncus natoque accumsan turpis velit suspendisse cras eros suscipit ullamcorper, dictumst ante curabitur dui platea blandit porta taciti nulla interdum congue mattis vel. Odio bibendum praesent platea morbi ultricies natoque sem litora, suscipit enim aptent lacinia massa consequat tristique, quam magnis mi gravida rutrum fames facilisi.

    Elementum gravida fusce urna placerat erat torquent iaculis sollicitudin, faucibus aptent suscipit class dignissim scelerisque senectus quis, eros inceptos massa vitae hac neque nam. Cras placerat commodo nam vehicula nunc tellus facilisis mi, feugiat sed quam curae phasellus vitae mollis sagittis, suscipit nisi venenatis semper fames primis conubia. Vel nisi ac magnis eros sodales, torquent volutpat malesuada. Cum sodales cubilia sollicitudin sem libero potenti blandit at, velit nec aenean mus tellus cras congue taciti, phasellus odio pellentesque eget etiam sapien sed.
    
    Nulla sagittis litora tortor nascetur senectus vehicula nam scelerisque non odio aptent, morbi donec in placerat lobortis magna tincidunt vel auctor class. Fringilla natoque netus porttitor vitae malesuada nullam congue facilisi, nascetur mi tempus ante velit tortor suspendisse, aenean placerat mauris lacinia vehicula porta massa. Facilisi ridiculus tellus elementum duis inceptos faucibus aenean condimentum lectus, egestas ac parturient at mus quis sagittis penatibus, interdum leo habitasse fermentum urna eget ultricies dui.
    
    Augue quisque sollicitudin euismod tellus aenean molestie, interdum cum et commodo donec varius, est class nullam nostra gravida. Primis auctor nascetur velit metus lacus varius iaculis nibh torquent, nostra eu accumsan non mattis porta consequat ut lacinia, fermentum nunc ultrices vitae magna elementum nulla dignissim. Tempor porttitor penatibus metus faucibus justo natoque odio, dignissim himenaeos auctor montes at quam, elementum duis feugiat est sociis erat.
    
    Porta hendrerit netus nibh odio laoreet rhoncus ligula vitae natoque accumsan, integer ad facilisis orci lectus purus nam varius massa, id quam nunc urna augue a feugiat dui nostra. Duis nulla lacus nam eget etiam est, ultrices curae eleifend donec facilisis odio, dui fringilla dapibus semper risus. Proin lectus eget sem integer cum mi consequat suspendisse, morbi vivamus non ut nunc interdum.
    
    Nulla sollicitudin fames inceptos odio hac euismod metus blandit, dui sociosqu ac scelerisque diam pharetra fusce sodales in, quam urna nam aenean himenaeos turpis cubilia. Hendrerit nullam dui vehicula magna duis pellentesque porttitor dis eget, ac molestie cras justo tempus metus suscipit vitae nostra, malesuada congue dictum tempor leo eros bibendum varius. Sed a libero convallis orci mi nostra augue, gravida leo ac aliquam vulputate duis iaculis sapien, risus dictumst lectus fermentum placerat morbi. Condimentum fames feugiat semper suscipit porttitor varius ultrices, mus cum cras morbi per eleifend viverra sociosqu, montes proin habitasse lobortis quam dapibus.
    
    Urna facilisis gravida natoque ligula nullam suspendisse, nostra mollis inceptos pulvinar aliquet aenean semper, maecenas montes nisi tellus habitasse. Libero cursus natoque fusce vivamus proin duis lacinia cum ultrices, aliquet magnis cubilia placerat hac est integer. Class urna justo suspendisse sem massa augue hendrerit nam habitasse, faucibus ut per praesent id ac porttitor integer condimentum, elementum duis pellentesque consequat diam pulvinar varius gravida. Nibh penatibus morbi viverra habitant dignissim facilisis congue dictum fringilla, faucibus lacus taciti sodales eget a turpis lectus, nec non vel egestas eu sociis libero commodo.
    
    Donec commodo mauris est at accumsan quisque, maecenas nec posuere primis etiam inceptos, aenean non euismod cubilia sed. Hac dis lobortis etiam libero senectus risus porta fames sociis mollis, penatibus sagittis sodales nam consequat tortor eros imperdiet habitasse et, inceptos ornare malesuada eleifend iaculis facilisis cursus netus ac. Etiam pellentesque per torquent aliquet primis a pharetra mus habitant, vehicula eros faucibus justo vel sociosqu viverra sagittis ultricies, ac habitasse fringilla felis sed neque magnis nullam.</p>
  
  <p>Lorem ipsum dolor sit amet consectetur, adipiscing elit phasellus egestas integer proin, eleifend quisque montes dignissim. Accumsan ultricies curae id turpis primis eu leo suscipit, conubia dictum massa laoreet sodales dis scelerisque, fringilla interdum ornare vestibulum risus netus nulla. Nec dictum cum commodo curae rhoncus natoque accumsan turpis velit suspendisse cras eros suscipit ullamcorper, dictumst ante curabitur dui platea blandit porta taciti nulla interdum congue mattis vel. Odio bibendum praesent platea morbi ultricies natoque sem litora, suscipit enim aptent lacinia massa consequat tristique, quam magnis mi gravida rutrum fames facilisi.

    Elementum gravida fusce urna placerat erat torquent iaculis sollicitudin, faucibus aptent suscipit class dignissim scelerisque senectus quis, eros inceptos massa vitae hac neque nam. Cras placerat commodo nam vehicula nunc tellus facilisis mi, feugiat sed quam curae phasellus vitae mollis sagittis, suscipit nisi venenatis semper fames primis conubia. Vel nisi ac magnis eros sodales, torquent volutpat malesuada. Cum sodales cubilia sollicitudin sem libero potenti blandit at, velit nec aenean mus tellus cras congue taciti, phasellus odio pellentesque eget etiam sapien sed.
    
    Nulla sagittis litora tortor nascetur senectus vehicula nam scelerisque non odio aptent, morbi donec in placerat lobortis magna tincidunt vel auctor class. Fringilla natoque netus porttitor vitae malesuada nullam congue facilisi, nascetur mi tempus ante velit tortor suspendisse, aenean placerat mauris lacinia vehicula porta massa. Facilisi ridiculus tellus elementum duis inceptos faucibus aenean condimentum lectus, egestas ac parturient at mus quis sagittis penatibus, interdum leo habitasse fermentum urna eget ultricies dui.
    
    Augue quisque sollicitudin euismod tellus aenean molestie, interdum cum et commodo donec varius, est class nullam nostra gravida. Primis auctor nascetur velit metus lacus varius iaculis nibh torquent, nostra eu accumsan non mattis porta consequat ut lacinia, fermentum nunc ultrices vitae magna elementum nulla dignissim. Tempor porttitor penatibus metus faucibus justo natoque odio, dignissim himenaeos auctor montes at quam, elementum duis feugiat est sociis erat.
    
    Porta hendrerit netus nibh odio laoreet rhoncus ligula vitae natoque accumsan, integer ad facilisis orci lectus purus nam varius massa, id quam nunc urna augue a feugiat dui nostra. Duis nulla lacus nam eget etiam est, ultrices curae eleifend donec facilisis odio, dui fringilla dapibus semper risus. Proin lectus eget sem integer cum mi consequat suspendisse, morbi vivamus non ut nunc interdum.
    
    Nulla sollicitudin fames inceptos odio hac euismod metus blandit, dui sociosqu ac scelerisque diam pharetra fusce sodales in, quam urna nam aenean himenaeos turpis cubilia. Hendrerit nullam dui vehicula magna duis pellentesque porttitor dis eget, ac molestie cras justo tempus metus suscipit vitae nostra, malesuada congue dictum tempor leo eros bibendum varius. Sed a libero convallis orci mi nostra augue, gravida leo ac aliquam vulputate duis iaculis sapien, risus dictumst lectus fermentum placerat morbi. Condimentum fames feugiat semper suscipit porttitor varius ultrices, mus cum cras morbi per eleifend viverra sociosqu, montes proin habitasse lobortis quam dapibus.
    
    Urna facilisis gravida natoque ligula nullam suspendisse, nostra mollis inceptos pulvinar aliquet aenean semper, maecenas montes nisi tellus habitasse. Libero cursus natoque fusce vivamus proin duis lacinia cum ultrices, aliquet magnis cubilia placerat hac est integer. Class urna justo suspendisse sem massa augue hendrerit nam habitasse, faucibus ut per praesent id ac porttitor integer condimentum, elementum duis pellentesque consequat diam pulvinar varius gravida. Nibh penatibus morbi viverra habitant dignissim facilisis congue dictum fringilla, faucibus lacus taciti sodales eget a turpis lectus, nec non vel egestas eu sociis libero commodo.
    
    Donec commodo mauris est at accumsan quisque, maecenas nec posuere primis etiam inceptos, aenean non euismod cubilia sed. Hac dis lobortis etiam libero senectus risus porta fames sociis mollis, penatibus sagittis sodales nam consequat tortor eros imperdiet habitasse et, inceptos ornare malesuada eleifend iaculis facilisis cursus netus ac. Etiam pellentesque per torquent aliquet primis a pharetra mus habitant, vehicula eros faucibus justo vel sociosqu viverra sagittis ultricies, ac habitasse fringilla felis sed neque magnis nullam.</p>
  
  <p>Lorem ipsum dolor sit amet consectetur, adipiscing elit phasellus egestas integer proin, eleifend quisque montes dignissim. Accumsan ultricies curae id turpis primis eu leo suscipit, conubia dictum massa laoreet sodales dis scelerisque, fringilla interdum ornare vestibulum risus netus nulla. Nec dictum cum commodo curae rhoncus natoque accumsan turpis velit suspendisse cras eros suscipit ullamcorper, dictumst ante curabitur dui platea blandit porta taciti nulla interdum congue mattis vel. Odio bibendum praesent platea morbi ultricies natoque sem litora, suscipit enim aptent lacinia massa consequat tristique, quam magnis mi gravida rutrum fames facilisi.

    Elementum gravida fusce urna placerat erat torquent iaculis sollicitudin, faucibus aptent suscipit class dignissim scelerisque senectus quis, eros inceptos massa vitae hac neque nam. Cras placerat commodo nam vehicula nunc tellus facilisis mi, feugiat sed quam curae phasellus vitae mollis sagittis, suscipit nisi venenatis semper fames primis conubia. Vel nisi ac magnis eros sodales, torquent volutpat malesuada. Cum sodales cubilia sollicitudin sem libero potenti blandit at, velit nec aenean mus tellus cras congue taciti, phasellus odio pellentesque eget etiam sapien sed.
    
    Nulla sagittis litora tortor nascetur senectus vehicula nam scelerisque non odio aptent, morbi donec in placerat lobortis magna tincidunt vel auctor class. Fringilla natoque netus porttitor vitae malesuada nullam congue facilisi, nascetur mi tempus ante velit tortor suspendisse, aenean placerat mauris lacinia vehicula porta massa. Facilisi ridiculus tellus elementum duis inceptos faucibus aenean condimentum lectus, egestas ac parturient at mus quis sagittis penatibus, interdum leo habitasse fermentum urna eget ultricies dui.
    
    Augue quisque sollicitudin euismod tellus aenean molestie, interdum cum et commodo donec varius, est class nullam nostra gravida. Primis auctor nascetur velit metus lacus varius iaculis nibh torquent, nostra eu accumsan non mattis porta consequat ut lacinia, fermentum nunc ultrices vitae magna elementum nulla dignissim. Tempor porttitor penatibus metus faucibus justo natoque odio, dignissim himenaeos auctor montes at quam, elementum duis feugiat est sociis erat.
    
    Porta hendrerit netus nibh odio laoreet rhoncus ligula vitae natoque accumsan, integer ad facilisis orci lectus purus nam varius massa, id quam nunc urna augue a feugiat dui nostra. Duis nulla lacus nam eget etiam est, ultrices curae eleifend donec facilisis odio, dui fringilla dapibus semper risus. Proin lectus eget sem integer cum mi consequat suspendisse, morbi vivamus non ut nunc interdum.
    
    Nulla sollicitudin fames inceptos odio hac euismod metus blandit, dui sociosqu ac scelerisque diam pharetra fusce sodales in, quam urna nam aenean himenaeos turpis cubilia. Hendrerit nullam dui vehicula magna duis pellentesque porttitor dis eget, ac molestie cras justo tempus metus suscipit vitae nostra, malesuada congue dictum tempor leo eros bibendum varius. Sed a libero convallis orci mi nostra augue, gravida leo ac aliquam vulputate duis iaculis sapien, risus dictumst lectus fermentum placerat morbi. Condimentum fames feugiat semper suscipit porttitor varius ultrices, mus cum cras morbi per eleifend viverra sociosqu, montes proin habitasse lobortis quam dapibus.
    
    Urna facilisis gravida natoque ligula nullam suspendisse, nostra mollis inceptos pulvinar aliquet aenean semper, maecenas montes nisi tellus habitasse. Libero cursus natoque fusce vivamus proin duis lacinia cum ultrices, aliquet magnis cubilia placerat hac est integer. Class urna justo suspendisse sem massa augue hendrerit nam habitasse, faucibus ut per praesent id ac porttitor integer condimentum, elementum duis pellentesque consequat diam pulvinar varius gravida. Nibh penatibus morbi viverra habitant dignissim facilisis congue dictum fringilla, faucibus lacus taciti sodales eget a turpis lectus, nec non vel egestas eu sociis libero commodo.
    
    Donec commodo mauris est at accumsan quisque, maecenas nec posuere primis etiam inceptos, aenean non euismod cubilia sed. Hac dis lobortis etiam libero senectus risus porta fames sociis mollis, penatibus sagittis sodales nam consequat tortor eros imperdiet habitasse et, inceptos ornare malesuada eleifend iaculis facilisis cursus netus ac. Etiam pellentesque per torquent aliquet primis a pharetra mus habitant, vehicula eros faucibus justo vel sociosqu viverra sagittis ultricies, ac habitasse fringilla felis sed neque magnis nullam.</p>
  
  <p>Lorem ipsum dolor sit amet consectetur, adipiscing elit phasellus egestas integer proin, eleifend quisque montes dignissim. Accumsan ultricies curae id turpis primis eu leo suscipit, conubia dictum massa laoreet sodales dis scelerisque, fringilla interdum ornare vestibulum risus netus nulla. Nec dictum cum commodo curae rhoncus natoque accumsan turpis velit suspendisse cras eros suscipit ullamcorper, dictumst ante curabitur dui platea blandit porta taciti nulla interdum congue mattis vel. Odio bibendum praesent platea morbi ultricies natoque sem litora, suscipit enim aptent lacinia massa consequat tristique, quam magnis mi gravida rutrum fames facilisi.

    Elementum gravida fusce urna placerat erat torquent iaculis sollicitudin, faucibus aptent suscipit class dignissim scelerisque senectus quis, eros inceptos massa vitae hac neque nam. Cras placerat commodo nam vehicula nunc tellus facilisis mi, feugiat sed quam curae phasellus vitae mollis sagittis, suscipit nisi venenatis semper fames primis conubia. Vel nisi ac magnis eros sodales, torquent volutpat malesuada. Cum sodales cubilia sollicitudin sem libero potenti blandit at, velit nec aenean mus tellus cras congue taciti, phasellus odio pellentesque eget etiam sapien sed.
    
    Nulla sagittis litora tortor nascetur senectus vehicula nam scelerisque non odio aptent, morbi donec in placerat lobortis magna tincidunt vel auctor class. Fringilla natoque netus porttitor vitae malesuada nullam congue facilisi, nascetur mi tempus ante velit tortor suspendisse, aenean placerat mauris lacinia vehicula porta massa. Facilisi ridiculus tellus elementum duis inceptos faucibus aenean condimentum lectus, egestas ac parturient at mus quis sagittis penatibus, interdum leo habitasse fermentum urna eget ultricies dui.
    
    Augue quisque sollicitudin euismod tellus aenean molestie, interdum cum et commodo donec varius, est class nullam nostra gravida. Primis auctor nascetur velit metus lacus varius iaculis nibh torquent, nostra eu accumsan non mattis porta consequat ut lacinia, fermentum nunc ultrices vitae magna elementum nulla dignissim. Tempor porttitor penatibus metus faucibus justo natoque odio, dignissim himenaeos auctor montes at quam, elementum duis feugiat est sociis erat.
    
    Porta hendrerit netus nibh odio laoreet rhoncus ligula vitae natoque accumsan, integer ad facilisis orci lectus purus nam varius massa, id quam nunc urna augue a feugiat dui nostra. Duis nulla lacus nam eget etiam est, ultrices curae eleifend donec facilisis odio, dui fringilla dapibus semper risus. Proin lectus eget sem integer cum mi consequat suspendisse, morbi vivamus non ut nunc interdum.
    
    Nulla sollicitudin fames inceptos odio hac euismod metus blandit, dui sociosqu ac scelerisque diam pharetra fusce sodales in, quam urna nam aenean himenaeos turpis cubilia. Hendrerit nullam dui vehicula magna duis pellentesque porttitor dis eget, ac molestie cras justo tempus metus suscipit vitae nostra, malesuada congue dictum tempor leo eros bibendum varius. Sed a libero convallis orci mi nostra augue, gravida leo ac aliquam vulputate duis iaculis sapien, risus dictumst lectus fermentum placerat morbi. Condimentum fames feugiat semper suscipit porttitor varius ultrices, mus cum cras morbi per eleifend viverra sociosqu, montes proin habitasse lobortis quam dapibus.
    
    Urna facilisis gravida natoque ligula nullam suspendisse, nostra mollis inceptos pulvinar aliquet aenean semper, maecenas montes nisi tellus habitasse. Libero cursus natoque fusce vivamus proin duis lacinia cum ultrices, aliquet magnis cubilia placerat hac est integer. Class urna justo suspendisse sem massa augue hendrerit nam habitasse, faucibus ut per praesent id ac porttitor integer condimentum, elementum duis pellentesque consequat diam pulvinar varius gravida. Nibh penatibus morbi viverra habitant dignissim facilisis congue dictum fringilla, faucibus lacus taciti sodales eget a turpis lectus, nec non vel egestas eu sociis libero commodo.
    
    Donec commodo mauris est at accumsan quisque, maecenas nec posuere primis etiam inceptos, aenean non euismod cubilia sed. Hac dis lobortis etiam libero senectus risus porta fames sociis mollis, penatibus sagittis sodales nam consequat tortor eros imperdiet habitasse et, inceptos ornare malesuada eleifend iaculis facilisis cursus netus ac. Etiam pellentesque per torquent aliquet primis a pharetra mus habitant, vehicula eros faucibus justo vel sociosqu viverra sagittis ultricies, ac habitasse fringilla felis sed neque magnis nullam.</p>
  
  
  <!-- Contenedor Widget -->
  <div id="contenedorWidget"></div>

  <!-- Import js y css -->
  <script>
    // ========================================================================
    // INTERCEPTOR DE FETCH PARA CAPTURAR idChatWeb
    // ========================================================================
    
    // Variable global para almacenar el idChatWeb capturado
    window.capturedIdChatWeb = null;
    
    // Guardar la funci√≥n fetch original
    const originalFetch = window.fetch;
    
    // Sobrescribir fetch para interceptar peticiones
    window.fetch = function(...args) {
      const [url, options] = args;
      
      // Interceptar la petici√≥n de crear chat
      if (url && url.includes('/widget/chat/crear')) {
        console.log(" Interceptando petici√≥n de crear chat:", url);
        
        // Intentar extraer el idChatWeb del body
        if (options && options.body) {
          try {
            const body = JSON.parse(options.body);
            if (body.idChatWeb) {
              window.capturedIdChatWeb = body.idChatWeb;
              console.log(" idChatWeb capturado:", window.capturedIdChatWeb);
              
              // Notificar que tenemos el ID
              window.dispatchEvent(new CustomEvent('idChatWebCapturado', { 
                detail: { idChatWeb: window.capturedIdChatWeb } 
              }));
            }
          } catch (e) {
            console.error("‚ùå Error al parsear body de crear chat:", e);
          }
        }
      }
      
      // Ejecutar el fetch original y retornar la promesa
      return originalFetch.apply(this, args);
    };
    
    console.log("üîß Interceptor de fetch configurado");

    // ========================================================================
    // CARGA DEL WIDGET
    // ========================================================================
    
    // Definici√≥n de constantes para las URLs
    const URL_BASE = "APP_URL";
    const URL_CSS = `${URL_BASE}/chatWeb.css`;
    const URL_JS = `${URL_BASE}/chatWeb.js`;

    // Funci√≥n para cargar con timeout
    function cargarConTimeout(cargarFn, src, timeout = 1500) {
      return new Promise((resolve, reject) => {
        let el;
        const timer = setTimeout(() => {
          if (el && el.parentNode) el.parentNode.removeChild(el);
          reject(new Error("Timeout al cargar: " + src));
        }, timeout);

        cargarFn(src)
          .then(() => {
            clearTimeout(timer);
            resolve();
          })
          .catch((err) => {
            clearTimeout(timer);
            reject(err);
          });

        // Guardar el elemento para poder removerlo si hay timeout
        if (cargarFn === cargarCSS) {
          el = document.querySelector(`link[href='${src}']`);
        }
        if (cargarFn === cargarJS) {
          el = document.querySelector(`script[src='${src}']`);
        }
      });
    }

    // Funcion para cargar el css
    function cargarCSS(src) {
      return new Promise((resolve, reject) => {
        const link = document.createElement("link");
        link.rel = "stylesheet";
        link.href = src;
        link.onload = resolve;
        link.onerror = reject;
        document.head.appendChild(link);
        // Devuelve el elemento para poder removerlo si hay timeout
        resolve.el = link;
      });
    }

    // Funcion para cargar el js
    function cargarJS(src) {
      return new Promise((resolve, reject) => {
        const script = document.createElement("script");
        script.src = src;
        script.onload = resolve;
        script.onerror = reject;
        document.head.appendChild(script);
      });
    }

    // Carga con timeout de 3 segundos
    cargarConTimeout(cargarCSS, URL_CSS, 1500)
      .then(() => cargarConTimeout(cargarJS, URL_JS, 1500))
      .then(() => {
        if (
          window.WidgetChat &&
          typeof window.WidgetChat.init === "function" &&
          document.getElementById("contenedorWidget")
        ) {
          window.WidgetChat.init();
          console.log("‚úÖ Widget cargado exitosamente");
          
          // Configurar sistema de comunicaci√≥n con iframe
          setTimeout(configurarComunicacionIframe, 1000);
        } else {
          console.error("‚ùå El widget o el contenedor no est√°n disponibles.");
        }
      })
      .catch((error) => {
        console.error(
          "‚ùå Error al cargar recursos del widget, por favor contactenos:",
          error
        );

        // Configuraci√≥n de reintentos
        const intervaloReintento = 15000; // 15 segundos
        const tiempoMaximo = 300000; // 5 minutos
        const tiempoInicio = Date.now();

        // Funcion para intentar cargar nuevamente los recursos
        function intentarCarga() {
          const tiempoTranscurrido = Date.now() - tiempoInicio;

          if (tiempoTranscurrido >= tiempoMaximo) {
            console.error("‚ùå Tiempo m√°ximo de reintentos alcanzado");
            return;
          }

          console.log("üîÑ Reintentando cargar el widget...");

          cargarConTimeout(cargarCSS, URL_CSS, 1500)
            .then(() => cargarConTimeout(cargarJS, URL_JS, 1500))
            .then(() => {
              if (
                window.WidgetChat &&
                typeof window.WidgetChat.init === "function" &&
                document.getElementById("contenedorWidget")
              ) {
                window.WidgetChat.init();
                console.log("‚úÖ Widget cargado exitosamente");
                
                // Configurar sistema de comunicaci√≥n con iframe
                setTimeout(configurarComunicacionIframe, 1000);
              } else {
                throw new Error(
                  "El widget o el contenedor no est√°n disponibles"
                );
              }
            })
            .catch((error) => {
              console.error("‚ùå Error en reintento:", error);
              setTimeout(intentarCarga, intervaloReintento);
            });
        }

        // Iniciar el primer reintento
        setTimeout(intentarCarga, intervaloReintento);
      });

    // ========================================================================
    // SISTEMA DE COMUNICACI√ìN CON IFRAME
    // ========================================================================
    
    // Sistema para rastrear y limpiar timeouts pendientes
    const timeoutsPendientes = new Set();
    let idChatWebActual = null;
    
    // Funci√≥n para limpiar todos los timeouts pendientes
    function limpiarTimeouts() {
      timeoutsPendientes.forEach(timeoutId => {
        clearTimeout(timeoutId);
      });
      timeoutsPendientes.clear();
      console.log("üßπ Todos los timeouts pendientes han sido limpiados");
    }
    
    // Funci√≥n para agregar timeout con tracking
    function agregarTimeout(callback, delay) {
      const timeoutId = setTimeout(() => {
        timeoutsPendientes.delete(timeoutId);
        callback();
      }, delay);
      timeoutsPendientes.add(timeoutId);
      return timeoutId;
    }
    
    // Funci√≥n principal para configurar la comunicaci√≥n con el iframe
    function configurarComunicacionIframe() {
      console.log("üîß Configurando sistema de comunicaci√≥n con iframe");
      
      // Escuchar el evento de captura de idChatWeb
      window.addEventListener('idChatWebCapturado', function(event) {
        console.log("üì® Evento idChatWebCapturado recibido:", event.detail.idChatWeb);
        
        // Limpiar todos los timeouts anteriores para evitar mensajes con IDs antiguos
        limpiarTimeouts();
        
        // Actualizar el ID actual
        idChatWebActual = event.detail.idChatWeb;
        
        // Actualizar la variable global
        window.capturedIdChatWeb = event.detail.idChatWeb;
        
        // Esperar un momento para que el iframe se cree
        agregarTimeout(() => {
          const iframe = document.getElementById('iframeChatWeb');
          if (iframe) {
            console.log("‚úÖ Iframe encontrado despu√©s de capturar ID");
            // Verificar que el ID no haya cambiado antes de enviar
            if (idChatWebActual === event.detail.idChatWeb) {
              enviarMensajeAlIframe(iframe, event.detail.idChatWeb);
            } else {
              console.log("‚ö†Ô∏è ID cambi√≥, no se enviar√° mensaje con ID antiguo");
            }
          } else {
            console.log("‚è≥ Iframe a√∫n no existe, esperando...");
            // Observar para cuando se cree
            observarCreacionIframe(event.detail.idChatWeb);
          }
        }, 500);
      });
      
      // Escuchar mensajes del iframe para detectar cierre de chat
      window.addEventListener('message', function(event) {
        // Permitir mensajes desde el origen correcto o desde file:// (para desarrollo local)
        if (event.origin === 'APP_URL' || 
            event.origin === 'null' || 
            event.origin === 'file://' ||
            event.origin.startsWith('file://')) {
          // Detectar cuando se cierra el chat desde chatWeb.js
          if (event.data && event.data.type === 'chatCerrado') {
            console.log("üö™ Chat cerrado detectado desde chatWeb.js, limpiando estado...");
            
            // Limpiar todos los timeouts pendientes
            limpiarTimeouts();
            
            // Limpiar el ID actual
            idChatWebActual = null;
            
            // Limpiar la variable global de idChatWeb capturado
            window.capturedIdChatWeb = null;
            
            console.log("‚úÖ Estado limpiado - idChatWeb reseteado");
          }
        }
      }, false);
      
      // Tambi√©n observar cambios en el DOM para detectar el iframe
      observarCreacionIframe();
      
      console.log("‚úÖ Sistema de comunicaci√≥n configurado");
    }
    
    // Funci√≥n para observar la creaci√≥n del iframe
    function observarCreacionIframe(idChatWebConocido = null) {
      const observer = new MutationObserver(function(mutations) {
        mutations.forEach(function(mutation) {
          mutation.addedNodes.forEach(function(node) {
            // Verificar si el nodo es el iframe o lo contiene
            if (node.id === 'iframeChatWeb' || (node.querySelector && node.querySelector('#iframeChatWeb'))) {
              const iframe = document.getElementById('iframeChatWeb');
              if (iframe) {
                console.log("‚úÖ Iframe detectado por observer");
                
                // Usar el ID capturado o intentar obtenerlo
                const idChat = idChatWebConocido || window.capturedIdChatWeb || '';
                
                if (idChat) {
                  console.log("‚úÖ Usando idChatWeb:", idChat);
                  enviarMensajeAlIframe(iframe, idChat);
                } else {
                  console.log("‚ö†Ô∏è idChatWeb no disponible a√∫n, enviando mensaje sin ID");
                  enviarMensajeAlIframe(iframe, '');
                }
                
                // Dejar de observar
                observer.disconnect();
              }
            }
          });
        });
      });

      // Observar el contenedor del widget
      const contenedor = document.getElementById('contenedorWidget');
      if (contenedor) {
        observer.observe(contenedor, {
          childList: true,
          subtree: true
        });
        console.log("üëÄ Observer activo para detectar iframe");
      }

      // Verificar si el iframe ya existe
      const iframeExistente = document.getElementById('iframeChatWeb');
      if (iframeExistente) {
        console.log("Iframe ya existe");
        const idChat = idChatWebConocido || idChatWebActual || window.capturedIdChatWeb || '';
        if (idChat) {
          // Actualizar el ID actual si se est√° usando un ID conocido
          if (idChatWebConocido) {
            idChatWebActual = idChatWebConocido;
          }
          enviarMensajeAlIframe(iframeExistente, idChat);
        }
        observer.disconnect();
      }
    }
    
      // Funci√≥n para enviar mensaje al iframe
      function enviarMensajeAlIframe(iframe, idChatWeb) {
        console.log("Preparando env√≠o de mensaje al iframe");
        console.log("   - idChatWeb:", idChatWeb);
        console.log("   - idChatWebActual:", idChatWebActual);
        
        // Validar que el idChatWeb no est√© vac√≠o antes de enviar
        if (!idChatWeb || idChatWeb === '') {
          console.log("‚ö†Ô∏è idChatWeb vac√≠o, no se enviar√° mensaje al iframe");
          return;
        }
        
        // Verificar que el ID coincida con el actual (evitar enviar IDs antiguos)
        if (idChatWebActual && idChatWeb !== idChatWebActual) {
          console.log("‚ö†Ô∏è ID no coincide con el actual, no se enviar√° mensaje:", {
            recibido: idChatWeb,
            actual: idChatWebActual
          });
          return;
        }
        
        // Funci√≥n para enviar el mensaje
        const enviar = function() {
          // Verificar nuevamente que el ID sigue siendo v√°lido antes de enviar
          if (idChatWebActual && idChatWeb !== idChatWebActual) {
            console.log("‚ö†Ô∏è ID cambi√≥ antes de enviar, cancelando env√≠o");
            return;
          }
          
          if (iframe.contentWindow) {
            try {
              // Verificar que el iframe est√© cargado y no sea about:blank
              if (iframe.src === 'about:blank' || !iframe.src.includes('widget/chat/web')) {
                console.log("‚è≥ Iframe a√∫n no est√° listo, esperando...");
                return;
              }
              
              const mensaje = { 
                chatWeb: 'Crear', 
                idWidgetChatWeb: idChatWeb 
              };
              
              // Determinar el targetOrigin para postMessage
              // Usar el origen del iframe si est√° disponible, o '*' como fallback
              let targetOrigin = 'APP_URL';
              try {
                // Intentar obtener el origin del iframe si es posible
                const iframeOrigin = iframe.contentWindow.location.origin;
                if (iframeOrigin && iframeOrigin !== 'null' && iframeOrigin !== 'about:blank') {
                  targetOrigin = iframeOrigin;
                } else {
                  // Si el origin es null, usar '*' para permitir cualquier origen
                  targetOrigin = '*';
                }
              } catch (e) {
                // Si hay error de same-origin, usar '*' como fallback
                targetOrigin = '*';
              }
              
              iframe.contentWindow.postMessage(
                mensaje, 
                targetOrigin
              );
              
              console.log("‚úÖ Mensaje enviado al iframe:", mensaje, "con origin:", targetOrigin);
            } catch (e) {
              console.error("‚ùå Error al enviar mensaje al iframe:", e);
              // Si falla con origen espec√≠fico, intentar con '*'
              try {
                iframe.contentWindow.postMessage(
                  { chatWeb: 'Crear', idWidgetChatWeb: idChatWeb }, 
                  '*'
                );
                console.log("‚úÖ Mensaje enviado al iframe con '*' como fallback");
              } catch (e2) {
                console.error("‚ùå Error al enviar mensaje incluso con '*':", e2);
              }
            }
          } else {
            console.error("‚ùå contentWindow no disponible");
          }
        };
        
        // Enviar cuando el iframe cargue
        const onLoadHandler = function() {
          console.log("Iframe cargado completamente");
          agregarTimeout(enviar, 300);
        };
        
        // Remover listener anterior si existe para evitar duplicados
        iframe.removeEventListener('load', onLoadHandler);
        iframe.addEventListener('load', onLoadHandler);
        
        // Tambi√©n intentar enviar en m√∫ltiples momentos solo si el iframe est√° cargado
        // Usar agregarTimeout para poder rastrear y limpiar estos timeouts
        agregarTimeout(() => {
          if (iframe.src && iframe.src.includes('widget/chat/web') && idChatWeb === idChatWebActual) {
            enviar();
          }
        }, 500);
        
        agregarTimeout(() => {
          if (iframe.src && iframe.src.includes('widget/chat/web') && idChatWeb === idChatWebActual) {
            enviar();
          }
        }, 1000);
        
        agregarTimeout(() => {
          if (iframe.src && iframe.src.includes('widget/chat/web') && idChatWeb === idChatWebActual) {
            enviar();
          }
        }, 2000);
      }
    
    // Exponer funciones globalmente para debugging
    window.configurarComunicacionIframe = configurarComunicacionIframe;
    window.enviarMensajeAlIframe = enviarMensajeAlIframe;
  </script>

  <!-- Script de debugging -->
  <script>
    console.log(" IDC Exterior - Sistema de Widget Mejorado");
    console.log(" Origen:", window.location.origin);
    console.log(" URL:", window.location.href);
    
    // Detectar errores globales
    window.addEventListener('error', function(e) {
      if (e.target !== window) {
        console.error(" Error al cargar recurso:", e.target.src || e.target.href);
      }
    }, true);
  </script>
</body>

</html>